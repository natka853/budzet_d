{% extends 'base.html' %}

{% block content %}
    <h1 class="display-4">SALDO</h1>
    <p class="lead">Twoje saldo: {{ saldo }} zł</br>Dzisiejsze dochody: {{ today_incomes }} zł</br>
        Dzisiejsze wydatki: {{ today_expenses }} zł </p>
    </div>

    {{ graph }}
    <div class="row">
        <div class="col-9">
            <h4> Historia </h4>
            <table class="table">
                <thead>
                <tr>
                    <th scope="col">Data</th>
                    <th scope="col">Nazwa</th>
                    <th scope="col">Źródło/Kategoria</th>
                    <th scope="col">Opis</th>
                    <th scope="col">Kwota</th>
                    <th scope="col">Akcje</th>
                </tr>
                </thead>
                <tbody>
                {% for object in incomes %}
                    <tr>
                        <td>{{ object.data.day }}/{{ object.data.month }}/{{ object.data.year }}</td>
                        <td>{{ object.nazwa }}</td>
                        <td>{{ object.zrodlo }}</td>
                        <td>{{ object.opis }}</td>
                        <td style="float: right; color: forestgreen">+{{ object.kwota }}</td>
                        <td><a title="Edytuj dochód" href="/{{ object.id }}/edytujDochod">
                            <img alt="Change" src="/static/admin/img/icon-changelink.svg"></a>
                        <a title="Usuń dochód" href="/{{ object.id }}/usunietoDochod"
                           onclick="return confirm('Czy na pewno chcesz usunąć wybrany dochód?')">
                            <img alt="Delete" src="/static/admin/img/icon-deletelink.svg"></a>
                        </td>
                    </tr>
                {% endfor %}
                {% for object in expenses %}
                    <tr>
                        <td>{{ object.data.day }}/{{ object.data.month }}/{{ object.data.year }}</td>
                        <td>{{ object.nazwa }}</td>
                        <td>{{ object.kategoria }}</td>
                        <td>{{ object.opis }}</td>
                        <td style="float: right; color: red">-{{ object.kwota }}</td>
                        <td><a title="Edytuj wydatek" href="/{{ object.id }}/edytujWydatek">
                            <img alt="Change" src="/static/admin/img/icon-changelink.svg"></a>
                        <a title="Usuń wydatek" href="/{{ object.id }}/usunietoWydatek"
                           onclick="return confirm('Czy na pewno chcesz usunąć wybrany wydatek?')">
                            <img alt="Delete" src="/static/admin/img/icon-deletelink.svg"></a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="col-sm">
            <div class="btn-group-vertical btn-group-sm">
                <a role="button" class="btn btn-light" href="/dodajPrzychod">Dodaj dochód</a>
                <a role="button" class="btn btn-light" href="/dodajWydatek">Dodaj wydatek</a>
                <a role="button" class="btn btn-light" href="/dodajKategorieWydatku">Dodaj kategorię wydatku</a>
                <a role="button" class="btn btn-light" href="/dodajZrodloDochodu">Dodaj źródło dochodu</a>
                <a role="button" class="btn btn-light" href="/kategorie">Zarządzaj kategoriami</a>
                <a role="button" class="btn btn-light" href="/zrodla">Zarządzaj źródłami</a>
            </div>
        </div>
    </div>
{% endblock %}